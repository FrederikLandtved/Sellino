<h2>Profil</h2>
<div class="d-flex justify-content-between align-items-center">
  <tab-rounded [tabOptions]="tabs" (onTabChanged)="onTabClick($event)"></tab-rounded>
  <sl-loading *ngIf="isLoadingUpdate"></sl-loading>
  <sl-button  *ngIf="!isLoadingUpdate" [type]="'secondary'" [title]="'Gem ændringer'" (onClick)="onSubmitUpdate()"></sl-button>
</div>

<div class="profile-container d-flex">
  <div *ngIf="currentTab == 'Sider'" class="profile-container__item round-container">
    <div class="d-flex justify-content-between">
      <h3>Sider</h3>
      <sl-button-round [title]="'las la-plus'" [type]="'secondary'" (onClick)="showCreateNewPage = !showCreateNewPage" style="margin-top: -6px;"></sl-button-round>
    </div>
    <div class="page-list-container" style="margin-bottom: 10px;">
      <div *ngIf="showCreateNewPage" class="page-list-container__item align-items-center p-20">
        <div class="d-flex justify-content-between">
          <sl-input [icon]="'las la-tag'" [placeholder]="'Navn på ny side'" [value]="newProfileName" (valueChange)="newProfileName = $event"></sl-input>
          <div class="d-flex">
            <sl-button title="Gem" (onClick)="createNewPage()" style="margin-right: 10px;"></sl-button>
            <sl-button title="Annuller" type="outline" (onClick)="showCreateNewPage = false"></sl-button>
          </div>
        </div>
      </div>
    </div>
    <div class="page-list-container">
      <ng-container *ngFor="let item of profilePages">
        <div class="page-list-container__item d-flex align-items-center p-20">
          <span>{{ item.Name }}</span>
        </div>
      </ng-container>
    </div>
  </div>
  <div *ngIf="currentTab == 'Farver'" class="profile-container__item round-container">
    <h3>Farver</h3>
    <sl-color-picker 
      [icon]="'las la-brush'" 
      [label]="'Virksomhedsfarve'" 
      [color]="profileModel.CompanyHexColor"
      (valueChange)="profileModel.CompanyHexColor = $event">
    </sl-color-picker>

    <sl-margin [px]="30"></sl-margin>

    <sl-color-picker 
      [icon]="'las la-brush'" 
      [label]="'Tekst på virksomhedsfarve'" 
      [color]="profileModel.TextOnCompanyHexColor"
      (valueChange)="profileModel.TextOnCompanyHexColor = $event">
    </sl-color-picker>

    <sl-margin [px]="30"></sl-margin>

    <sl-color-picker 
      [icon]="'las la-brush'" 
      [label]="'Mørk virksomhedsfarve'" 
      [color]="profileModel.DarkCompanyHexColor"
      (valueChange)="profileModel.DarkCompanyHexColor = $event">
    </sl-color-picker>

    <sl-margin [px]="30"></sl-margin>

    <sl-color-picker 
      [icon]="'las la-brush'" 
      [label]="'Sekundær virksomhedsfarve'" 
      [color]="profileModel.SecondaryCompanyHexColor"
      (valueChange)="profileModel.SecondaryCompanyHexColor = $event">
    </sl-color-picker>

    <sl-margin [px]="30"></sl-margin>

    <sl-color-picker 
      [icon]="'las la-brush'" 
      [label]="'Tekst på sekundær virksomhedsfarve'" 
      [color]="profileModel.TextOnSecondaryCompanyHexColor"
      (valueChange)="profileModel.TextOnSecondaryCompanyHexColor = $event">
    </sl-color-picker>
  </div>

  <div *ngIf="currentTab == 'Tekster'" class="profile-container__item round-container">
    <h3>Tekster</h3>
    <sl-input name="product-name" label="Profilnavn" [value]="profileModel.Name" (valueChange)="profileModel.Name = $event"></sl-input>
    <sl-margin [px]="30"></sl-margin>
    <sl-input name="product-name" label="Bio" [value]="profileModel.Bio" (valueChange)="profileModel.Bio = $event"></sl-input>
  </div>

  <div [hidden]="currentTab !== 'Mediefiler'" class="profile-container__item round-container">
    <h3>Mediefiler</h3>
    <sl-media-picker [label]="'Profilbillede'" [mediaId]="isLoadingProfile ? null : profileModel.ProfileMediaId" (valueChange)="profileModel.ProfileMediaId = $event"></sl-media-picker>
    <sl-margin [px]="30"></sl-margin>
    <sl-media-picker [label]="'Coverbillede'" [mediaId]="isLoadingProfile ? null : profileModel.CoverMediaId" (valueChange)="profileModel.CoverMediaId = $event"></sl-media-picker>
  </div>
  <div class="profile-container__item round-container">
    <h3>Preview</h3>
    <sl-profile-preview [profileMediaId]="profileModel.ProfileMediaId" [coverMediaId]="profileModel.CoverMediaId" [profileName]="profileModel.Name" [bio]="profileModel.Bio"></sl-profile-preview>
  </div>
</div>